const _0x7c9d6d=_0x416b;(function(_0x4b1d86,_0x500136){const _0x462004=_0x416b,_0x3c83ce=_0x4b1d86();while(!![]){try{const _0x3f3390=parseInt(_0x462004(0x18f))/0x1+parseInt(_0x462004(0x1b1))/0x2*(-parseInt(_0x462004(0x19c))/0x3)+parseInt(_0x462004(0x196))/0x4+-parseInt(_0x462004(0x1a4))/0x5+parseInt(_0x462004(0x18a))/0x6*(parseInt(_0x462004(0x192))/0x7)+parseInt(_0x462004(0x1a2))/0x8+parseInt(_0x462004(0x1a6))/0x9*(-parseInt(_0x462004(0x1aa))/0xa);if(_0x3f3390===_0x500136)break;else _0x3c83ce['push'](_0x3c83ce['shift']());}catch(_0x38dcf1){_0x3c83ce['push'](_0x3c83ce['shift']());}}}(_0x3fbe,0xad8b8));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x7c9d6d(0x1af)),ff=require(_0x7c9d6d(0x1a7)),webp=require('node-webpmux'),path=require('path');function _0x416b(_0x4afb03,_0x577462){const _0x3fbed1=_0x3fbe();return _0x416b=function(_0x416b06,_0x2f0c16){_0x416b06=_0x416b06-0x186;let _0x145f00=_0x3fbed1[_0x416b06];return _0x145f00;},_0x416b(_0x4afb03,_0x577462);}async function imageToWebp2(_0x4ff69f){const _0x3ef112=_0x7c9d6d,_0x5ef53d=path[_0x3ef112(0x19e)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x3ef112(0x193)](0x24)+_0x3ef112(0x188)),_0x7cf9fa=path[_0x3ef112(0x19e)](tmpdir(),Crypto[_0x3ef112(0x194)](0x6)[_0x3ef112(0x1a1)](0x0,0x6)['toString'](0x24)+_0x3ef112(0x187));fs['writeFileSync'](_0x7cf9fa,_0x4ff69f),await new Promise((_0x1c1162,_0x3e4eac)=>{const _0x1db68a=_0x3ef112;ff(_0x7cf9fa)['on'](_0x1db68a(0x1a9),_0x3e4eac)['on'](_0x1db68a(0x1b0),()=>_0x1c1162(!![]))[_0x1db68a(0x19f)](['-vcodec','libwebp',_0x1db68a(0x1b4),_0x1db68a(0x1ab)])[_0x1db68a(0x186)](_0x1db68a(0x1a5))['save'](_0x5ef53d);});const _0x20945e=fs[_0x3ef112(0x195)](_0x5ef53d);return fs[_0x3ef112(0x1b3)](_0x5ef53d),fs[_0x3ef112(0x1b3)](_0x7cf9fa),_0x20945e;}async function videoToWebp2(_0x5a98a9){const _0x1564d0=_0x7c9d6d,_0x38b75b=path['join'](tmpdir(),Crypto[_0x1564d0(0x194)](0x6)[_0x1564d0(0x1a1)](0x0,0x6)[_0x1564d0(0x193)](0x24)+_0x1564d0(0x188)),_0x4569fa=path['join'](tmpdir(),Crypto[_0x1564d0(0x194)](0x6)[_0x1564d0(0x1a1)](0x0,0x6)[_0x1564d0(0x193)](0x24)+_0x1564d0(0x18e));fs[_0x1564d0(0x19b)](_0x4569fa,_0x5a98a9),await new Promise((_0x3f1fa1,_0x186d11)=>{const _0x31aa2a=_0x1564d0;ff(_0x4569fa)['on'](_0x31aa2a(0x1a9),_0x186d11)['on'](_0x31aa2a(0x1b0),()=>_0x3f1fa1(!![]))[_0x31aa2a(0x19f)]([_0x31aa2a(0x1ac),'libwebp','-vf',_0x31aa2a(0x1a0)])[_0x31aa2a(0x186)](_0x31aa2a(0x1a5))[_0x31aa2a(0x190)](_0x38b75b);});const _0x2faf5d=fs[_0x1564d0(0x195)](_0x38b75b);return fs['unlinkSync'](_0x38b75b),fs[_0x1564d0(0x1b3)](_0x4569fa),_0x2faf5d;}async function writeExifImg2(_0x4709e0,_0x28d4c8){const _0x560216=_0x7c9d6d;let _0x450f09=await imageToWebp2(_0x4709e0);const _0x30599b=path[_0x560216(0x19e)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x560216(0x193)](0x24)+_0x560216(0x188)),_0x442a5e=path[_0x560216(0x19e)](tmpdir(),Crypto[_0x560216(0x194)](0x6)[_0x560216(0x1a1)](0x0,0x6)[_0x560216(0x193)](0x24)+_0x560216(0x188));fs[_0x560216(0x19b)](_0x30599b,_0x450f09);if(_0x28d4c8['packname']||_0x28d4c8[_0x560216(0x199)]){const _0x86702c=new webp[(_0x560216(0x1b5))](),_0x45f5ef={'sticker-pack-id':_0x560216(0x1ad),'sticker-pack-name':_0x28d4c8[_0x560216(0x198)],'sticker-pack-publisher':_0x28d4c8['author'],'emojis':_0x28d4c8[_0x560216(0x191)]?_0x28d4c8[_0x560216(0x191)]:['']},_0x1357df=Buffer[_0x560216(0x1b2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3bd9d5=Buffer[_0x560216(0x1b2)](JSON['stringify'](_0x45f5ef),_0x560216(0x189)),_0x3870aa=Buffer['concat']([_0x1357df,_0x3bd9d5]);return _0x3870aa[_0x560216(0x1a3)](_0x3bd9d5[_0x560216(0x19d)],0xe,0x4),await _0x86702c[_0x560216(0x18d)](_0x30599b),fs[_0x560216(0x1b3)](_0x30599b),_0x86702c['exif']=_0x3870aa,await _0x86702c[_0x560216(0x190)](_0x442a5e),_0x442a5e;}}function _0x3fbe(){const _0x1ed821=['readUIntLE','1344368KiujVt','writeUIntLE','5572565jnmvLE','webp','532431EPYmQA','fluent-ffmpeg','exports','error','170DltqXy','scale=\x27min(9999999,iw)\x27:min\x27(9999999,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=0:0:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','-vcodec','BOT\x20GUGU\x20MD','mimetype','crypto','end','168626GTLMWh','from','unlinkSync','-vf','Image','toFormat','.jpg','.webp','utf-8','39192jkPmkW','data','stringify','load','.mp4','575325XExOvD','save','categories','1337wZEAbn','toString','randomBytes','readFileSync','4372048UMHTUX','test','packname','author','concat','writeFileSync','9GZGSqR','length','join','addOutputOptions','scale=220:220,fps=12,pad=0:0:-1:-1:color=white@0.0,split[a][b];[a]palettegen=reserve_transparent=on:transparency_color=ffffff[p];[b][p]paletteuse'];_0x3fbe=function(){return _0x1ed821;};return _0x3fbe();}async function writeExifVid2(_0x5373be,_0x455ffb){const _0x198015=_0x7c9d6d;let _0x15f538=await videoToWebp2(_0x5373be);const _0x1bceef=path[_0x198015(0x19e)](tmpdir(),Crypto[_0x198015(0x194)](0x6)[_0x198015(0x1a1)](0x0,0x6)[_0x198015(0x193)](0x24)+_0x198015(0x188)),_0x398cb5=path[_0x198015(0x19e)](tmpdir(),Crypto[_0x198015(0x194)](0x6)[_0x198015(0x1a1)](0x0,0x6)[_0x198015(0x193)](0x24)+_0x198015(0x188));fs['writeFileSync'](_0x1bceef,_0x15f538);if(_0x455ffb[_0x198015(0x198)]||_0x455ffb[_0x198015(0x199)]){const _0x10bc90=new webp[(_0x198015(0x1b5))](),_0x59c7fd={'sticker-pack-id':_0x198015(0x1ad),'sticker-pack-name':_0x455ffb[_0x198015(0x198)],'sticker-pack-publisher':_0x455ffb['author'],'emojis':_0x455ffb['categories']?_0x455ffb[_0x198015(0x191)]:['']},_0x311c45=Buffer[_0x198015(0x1b2)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4c3b23=Buffer[_0x198015(0x1b2)](JSON[_0x198015(0x18c)](_0x59c7fd),'utf-8'),_0x282b11=Buffer['concat']([_0x311c45,_0x4c3b23]);return _0x282b11[_0x198015(0x1a3)](_0x4c3b23[_0x198015(0x19d)],0xe,0x4),await _0x10bc90['load'](_0x1bceef),fs[_0x198015(0x1b3)](_0x1bceef),_0x10bc90['exif']=_0x282b11,await _0x10bc90[_0x198015(0x190)](_0x398cb5),_0x398cb5;}}async function writeExif2(_0x238aed,_0x371f42){const _0x26d1ca=_0x7c9d6d;let _0x271b51=/webp/[_0x26d1ca(0x197)](_0x238aed[_0x26d1ca(0x1ae)])?_0x238aed['data']:/image/[_0x26d1ca(0x197)](_0x238aed[_0x26d1ca(0x1ae)])?await imageToWebp2(_0x238aed[_0x26d1ca(0x18b)]):/video/[_0x26d1ca(0x197)](_0x238aed[_0x26d1ca(0x1ae)])?await videoToWebp2(_0x238aed[_0x26d1ca(0x18b)]):'';const _0x4132fc=path[_0x26d1ca(0x19e)](tmpdir(),Crypto[_0x26d1ca(0x194)](0x6)['readUIntLE'](0x0,0x6)[_0x26d1ca(0x193)](0x24)+_0x26d1ca(0x188)),_0x1ecd30=path[_0x26d1ca(0x19e)](tmpdir(),Crypto['randomBytes'](0x6)[_0x26d1ca(0x1a1)](0x0,0x6)[_0x26d1ca(0x193)](0x24)+_0x26d1ca(0x188));fs[_0x26d1ca(0x19b)](_0x4132fc,_0x271b51);if(_0x371f42[_0x26d1ca(0x198)]||_0x371f42[_0x26d1ca(0x199)]){const _0x3ad9d7=new webp['Image'](),_0x49f054={'sticker-pack-id':_0x26d1ca(0x1ad),'sticker-pack-name':_0x371f42[_0x26d1ca(0x198)],'sticker-pack-publisher':_0x371f42[_0x26d1ca(0x199)],'emojis':_0x371f42[_0x26d1ca(0x191)]?_0x371f42[_0x26d1ca(0x191)]:['']},_0x337464=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x93f548=Buffer[_0x26d1ca(0x1b2)](JSON[_0x26d1ca(0x18c)](_0x49f054),_0x26d1ca(0x189)),_0x3a6711=Buffer[_0x26d1ca(0x19a)]([_0x337464,_0x93f548]);return _0x3a6711[_0x26d1ca(0x1a3)](_0x93f548[_0x26d1ca(0x19d)],0xe,0x4),await _0x3ad9d7[_0x26d1ca(0x18d)](_0x4132fc),fs[_0x26d1ca(0x1b3)](_0x4132fc),_0x3ad9d7['exif']=_0x3a6711,await _0x3ad9d7[_0x26d1ca(0x190)](_0x1ecd30),_0x1ecd30;}}module[_0x7c9d6d(0x1a8)]={'imageToWebp2':imageToWebp2,'videoToWebp2':videoToWebp2,'writeExifImg2':writeExifImg2,'writeExifVid2':writeExifVid2,'writeExif2':writeExif2};